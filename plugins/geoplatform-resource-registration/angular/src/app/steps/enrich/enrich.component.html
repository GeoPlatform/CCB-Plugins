<mat-card>

    <mat-card-subtitle>
        Optionally, specify one or more concepts for the knowledge graph of the resource
        using the fields below.
    </mat-card-subtitle>


    <form [formGroup]="formGroup">

        <div class="enrich__container">

            <!-- PURPOSES -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Purpose'"
                    [placeholder]="'Specify purpose(s) for this resource'"
                    [hint]="'Find purposes using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_PURPOSE}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterPurposes">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

            <!-- FUNCTIONS -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Function'"
                    [placeholder]="'Specify function(s) for this resource'"
                    [hint]="'Find functions using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_FUNCTION}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterFunctions">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

        </div>



        <div class="enrich__container">

            <!-- TOPICS -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Topic'"
                    [placeholder]="'Specify topic(s) for this resource'"
                    [hint]="'Find topics using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_TOPIC_PRIMARY}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterTopics">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

            <!-- SUBJECTS -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Subject'"
                    [placeholder]="'Specify subject(s) for this resource'"
                    [hint]="'Find subjects using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_SUBJECT_PRIMARY}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterSubjects">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

        </div>



        <div class="enrich__container">

            <!-- PLACES -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Place'"
                    [placeholder]="'Specify place(s) for this resource'"
                    [hint]="'Find places using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_PLACE}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterPlaces">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

            <!-- CATEGORIES -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Category'"
                    [placeholder]="'Specify categories for this resource'"
                    [hint]="'Find categories using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_CATEGORY}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterCategories">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

        </div>



        <div class="enrich__container">
            <!-- AUDIENCE -->
            <div class="enrich__section">
                <gprr-autocomplete-mat-chip
                    [label]="'Audience'"
                    [placeholder]="'Specify audience(s) for this resource'"
                    [hint]="'Find audiences using the typeahead and select them to associate'"
                    [fieldName]="{{PROPS.CLASSIFIERS_AUDIENCE}}"
                    [formGroup]="formGroup"
                    [filterFn]="filterAudiences">
                    <ng-template let-option>
                        <div>{{option.label}}</div>
                        <div class="u-text--sm t-fg--gray-md">{{option.uri}}</div>
                    </ng-template>
                </gprr-autocomplete-mat-chip>
            </div>

        </div>


    </form>


    <mat-card-actions>
        <div class="m-step__buttons">
            <button mat-raised-button matStepperPrevious>Back</button>
            <button mat-raised-button color="primary" matStepperNext
                [disabled]="formGroup.invalid || !data[PROPS.CREATED_BY]">Continue</button>
        </div>
    </mat-card-actions>

</mat-card>
