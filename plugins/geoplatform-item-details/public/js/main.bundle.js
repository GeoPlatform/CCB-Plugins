webpackJsonp([1],{"+5jC":function(e,t){e.exports=""},"+OeI":function(e,t){e.exports=""},0:function(e,t,n){e.exports=n("x35b")},"0XKB":function(e,t){e.exports='\x3c!-- <div class="m-article__desc">\n    <div><strong>Title</strong></div>\n    Value...\n</div> --\x3e\n'},"0fZw":function(e,t){e.exports=":host {\n  display: block;\n  padding-top: 1em;\n}\n"},"0ljv":function(e,t){e.exports='<div class="m-article">\n    <div class="m-article__heading">\n        <span class="fas"\n            [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n            (click)="toggleCollapsed()">\n        </span>\n\n        Usage\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':!isCollapsed}">\n        Expand to see usage statistics of this item\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}">\n\n        <ul class="nav nav-tabs" id="myTab" role="tablist">\n            <li class="nav-item" *ngFor="let key of getTabKeys()">\n                <a class="nav-link is-linkless"\n                    id="{{key}}-tab" role="tab"\n                    [ngClass]="{active:key===activeTab}"\n                    (click)="changeTab(key)"\n                    [attr.aria-controls]="key"\n                    [attr.aria-selected]="tabs[key].status">\n                    {{tabs[key].label}}\n                </a>\n            </li>\n        </ul>\n        <div class="tab-content" id="myTabContent" style="width:100%">\n            <div class="tab-pane"\n                *ngFor="let key of getTabKeys()"\n                [ngClass]="{active:key===activeTab}"\n                role="tabpanel"\n                [attr.aria-labelledby]="key+\'-tab\'">\n                <div id="{{key}}_chart" style="width:100%"></div>\n            </div>\n        </div>\n\n    </div>\n</div>\n'},1:function(e,t){},"1DLH":function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Additional Identifiers ({{ids?.length||0}})</strong>\n</div>\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n    <div *ngIf="!ids || !ids.length">None specified</div>\n    <div *ngIf="ids && ids.length">\n        <div *ngFor="let id of ids">{{id}}</div>\n    </div>\n</div>\n'},"1PXn":function(e,t){e.exports=""},2:function(e,t){},"2pzX":function(e,t){e.exports="img {\n  width: 100%;\n}\n"},3:function(e,t){},"3arv":function(e,t){e.exports=".m-map-container {\n  width: 100%;\n  height: calc(26.55367232vw);\n}\n"},4:function(e,t){},5:function(e,t){},"5G14":function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Community Members ({{members?.length||0}})</strong>\n</div>\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see communities which reference this resource\n</div>\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n    <em *ngIf="!members||!members.length">None specified</em>\n    <div *ngIf="members?.length" class="m-list">\n        <div *ngFor="let member of members" class="m-list__item">\n            <gpid-resource-link [item]="member"></gpid-resource-link>\n        </div>\n    </div>\n</div>\n'},"5oDZ":function(e,t){e.exports=".a-description__container {\n  font-size: 0.875em;\n  line-height: 1.5;\n  color: #747474;\n}\n.a-description__container.is-collapsed {\n  max-height: 4.3em;\n  overflow: hidden;\n}\n"},"5xMp":function(e,t){e.exports='\n<gpid-item *ngIf="item" [item]="item"></gpid-item>\n\n<div class="m-message__container">\n    <div class="m-message--error" *ngIf="error">\n        <div class="m-message__heading">\n            <span class="fas fa-exclamation-circle"></span>\n            {{error.label}}\n        </div>\n        {{error.message}}\n    </div>\n</div>\n'},6:function(e,t){},"6xmj":function(e,t){e.exports='<a href="{{getEditUrl()}}" target="_blank" *ngIf="isAuthorized()"\n    class="btn btn-info btn-block u-mg-top--xlg">\n    <span class="far fa-edit"></span> Edit\n</a>\n'},"8soU":function(e,t){e.exports=":host {\n  display: block;\n  padding-top: 1em;\n}\n"},AEeZ:function(e,t){e.exports=""},CwCq:function(e,t){e.exports='<div>\n\n\n    <div class="m-map-container" id="item-coverage-map"></div>\n\n    <div *ngIf="errors && errors.length">\n        <br>\n        <strong>\n            <span class="fas fa-exclamation-circle t-fg--danger"></span>\n            Errors were encountered with the\n            <span *ngIf="layerId">layer</span>\n            <span *ngIf="mapId">map</span>\n            <span *ngIf="!mapId&&!layerId">coverage map</span>\n            :\n        </strong>\n        <div *ngFor="let error of errors">\n            - {{error.message}}\n        </div>\n    </div>\n\n    <div *ngIf="warnings && warnings.length">\n        <br>\n        <strong>\n            <span class="fas fa-exclamation-triangle t-fg--warning"></span>\n            Warnings :\n        </strong>\n        <div *ngFor="let warning of warnings">\n            - {{warning.message}}\n        </div>\n    </div>\n\n</div>\n'},EYwi:function(e,t){e.exports=""},Ee30:function(e,t){e.exports=":host {\n  display: block;\n  padding-top: 1em;\n}\n"},GZ7F:function(e,t){e.exports=".o-gallery__items {\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: 1fr 1fr 1fr;\n      grid-template-columns: 1fr 1fr 1fr;\n  -ms-grid-rows: auto;\n      grid-template-rows: auto;\n  grid-gap: 1em;\n}\n"},H1tq:function(e,t){e.exports=""},IQjw:function(e,t){e.exports='<div class="m-thumbnail" style="position:relative">\n\n    <img src="{{fallback}}" *ngIf="isEmpty()">\n\n    <img src="{{thumbnail.url}}" *ngIf="hasURL()" fallback="{{fallback}}">\n\n    <div *ngIf="hasContentData()" class="is-16x9">\n        <img\n            [style.background-size]="\'contain\'"\n            [style.background-repeat]="\'no-repeat\'"\n            [style.background-image]="getBackgroundImage()">\n    </div>\n\n</div>\n'},Jnfr:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="Jnfr"},K0BU:function(e,t){e.exports=':host > * {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.m-list--tree {\n  margin-left: .35em;\n}\n.m-list--tree > * {\n  display: block;\n  border-left: 2px solid #bbb;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.m-list--tree > *:before {\n  width: .9em;\n  height: 1em;\n  margin-right: .1em;\n  vertical-align: top;\n  border-bottom: 2px solid #bbb;\n  content: "";\n  display: inline-block;\n}\n.m-list--tree > * > * {\n  display: inline-block;\n}\n.m-list--tree > *:last-child {\n  border-left: none;\n}\n.m-list--tree > *:last-child:before {\n  border-left: 2px solid #bbb;\n}\ngpid-resource-link > a {\n  padding: .25em;\n}\n'},K3jb:function(e,t){e.exports=""},LdvX:function(e,t){e.exports=""},MAq4:function(e,t){e.exports='<br>\n<button type="button" class="btn btn-pink btn-block" (click)="doAction()">\n    <span class="fas fa-heart"></span> Like\n</button>\n<br>\n'},MP59:function(e,t){e.exports=".tab-content {\n  /* maintain specific height to ensure content following this component\n       doesn't jump when a tab hasn't had content ready upon opening */\n  height: 300px;\n}\n"},"Mh+b":function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Communities ({{communities?.length||0}})</strong>\n</div>\n\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see communities which reference this resource\n</div>\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n\n    <div *ngIf="!communities || !communities.length">\n        <em>None specified</em>\n    </div>\n\n    <div class="m-list">\n        <gpid-resource-link *ngFor="let it of communities" [item]="it" class="m-list__item">\n        </gpid-resource-link>\n    </div>\n\n</div>\n'},NO6R:function(e,t){e.exports='<div class="m-article__desc">\n    <div><strong>Full Name</strong></div>\n    <div *ngIf="item.fullName">{{item.fullName}}</div>\n    <div *ngIf="!item.fullName" class="t-fg--warning">\n        <span class="fas fa-exclamation-warning-triangle"></span>\n        Not specified\n    </div>\n    <br>\n\n    <div><strong>Organization</strong></div>\n    <div *ngIf="item.orgName">{{item.orgName}}</div>\n    <div *ngIf="!item.orgName" class="t-fg--warning">\n        <span class="fas fa-exclamation-triangle"></span>\n        Not specified\n    </div>\n    <br>\n\n    <div><strong>Position</strong></div>\n    <div>{{item.positionTitle||"Not specified"}}</div>\n    <br>\n\n    <div><strong>Email</strong></div>\n    <div>{{item.email||"Not specified"}}</div>\n    <br>\n\n    <div><strong>Phone</strong></div>\n    <div>{{item.tel||"Not specified"}}</div>\n    <br>\n\n    <div *ngIf="item.address">\n        <div><strong>Address</strong></div>\n        <div *ngIf="item.address.street">{{item.address.street}}</div>\n        <span *ngIf="item.address.locality">{{item.address.locality}}</span>\n        <span *ngIf="item.address.region">{{item.address.region}}</span>\n        <span *ngIf="item.address.zip">{{item.address.zip}}</span>\n        <div *ngIf="item.address.country">{{item.address.country}}</div>\n    </div>\n</div>\n'},NQWy:function(e,t){e.exports=""},Nh9t:function(e,t){e.exports=""},"Q/5j":function(e,t){e.exports='\x3c!-- Service --\x3e\n<div class="m-article__desc">\n    <div><strong>Service Type</strong></div>\n    <div *ngIf="item?.serviceType">{{item.serviceType.label || "Untitled service type"}}</div>\n    <div *ngIf="!item?.serviceType" class="t-fg--danger">\n        <span class="fas fa-exclamation-circle"></span>\n        Service is missing a service type\n    </div>\n</div>\n\n<div class="m-article__desc">\n    <div><strong>Service URL</strong></div>\n    <a *ngIf="item?.href" href="{{item.href}}" target="_blank"\n        class="u-break--all">{{item.href}}</a>\n    <div *ngIf="!item?.href" class="t-fg--danger">\n        <span class="fas fa-exclamation-circle"></span>\n        Service is missing a URL\n    </div>\n</div>\n'},SkEp:function(e,t){e.exports=""},TNxx:function(e,t){e.exports=":host {\n  display: block;\n  padding-top: 1em;\n}\n"},UGG3:function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Distributions ({{item?.distributions?.length||0}})</strong>\n</div>\n\n<div class="m-article__desc" [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see distributions for this dataset\n</div>\n\n<div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}" *ngIf="item">\n\n    <div *ngIf="!item?.distributions || !item?.distributions.length">\n        <em>None specified</em>\n    </div>\n\n    <div *ngIf="item?.distributions" class="m-list">\n        <div *ngFor="let dist of item.distributions" class="m-list__item">\n            <span *ngIf="!dist.href">\n                {{dist.label||"Un-titled Distribution"}} <em>(no url specified)</em>\n            </span>\n            <a *ngIf="dist.href" href="{{dist.href}}" target="_blank">\n                {{dist.label||"Un-titled Distribution"}}\n            </a>\n            <p class="t-fg--gray-md" *ngIf="dist.description">{{dist.description}}</p>\n        </div>\n    </div>\n\n</div>\n'},W74Q:function(e,t){e.exports=""},Wdnl:function(e,t){e.exports='<ul class="m-page-breadcrumbs">\n    <li><a href="/">Home</a></li>\n    <li><a href="/resources">Resources</a></li>\n    <li><a href="/resources/{{getTypeKey()}}">{{item?.type|friendlyType}}</a></li>\n    <li class="is-active"><a>{{item?.label}}</a></li>\n</ul>\n\n\x3c!-- <div class="m-page-overview" (window:resize)="onResize()">\n    <div class="a-description__container"\n        [ngClass]="{\'is-collapsed\':descriptionCollapsed}">\n        <div class="a-description__display" [innerHTML]="item?.description||\'No description provided\'"></div>\n    </div>\n    <div class="m-page-overview__toggle" *ngIf="hasLongDescription" (click)="toggleDesc()">\n        <span class="fas"\n            [ngClass]="{\'fa-caret-down\':descriptionCollapsed,\'fa-caret-up\':!descriptionCollapsed}"></span>\n    </div>\n</div> --\x3e\n\n<div class="l-body l-body--two-column">\n\n    <div class="l-body__main-column">\n\n        <div class="m-section-group">\n            <div class="m-article">\n                <div class="m-article__heading">{{getTitle()}}</div>\n\n                <div *ngIf="isAsset()">\n                    <div class="m-article__desc">\n                        <gpid-alt-titles  [titles]="item?.alternateTitles"></gpid-alt-titles>\n                    </div>\n\n                    <div class="m-article__desc" (window:resize)="onResize()">\n                        <div>\n                            <span class="fas"\n                                *ngIf="hasLongDescription" (click)="toggleDesc()"\n                                [ngClass]="{\'fa-caret-down\':descriptionCollapsed,\'fa-caret-up\':!descriptionCollapsed}">\n                            </span>\n                            <strong>Description</strong>\n                        </div>\n                        <div class="a-description__container"\n                            [ngClass]="{\'is-collapsed\':descriptionCollapsed}">\n                            <div class="a-description__display" [innerHTML]="item?.description||\'No description provided\'"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        \x3c!-- General Details --\x3e\n        <div class="m-section-group">\n\n            <div class="m-article">\n\n                <div class="m-article__heading">Overview</div>\n\n                \x3c!--\n                    all Assets\n                --\x3e\n\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <div><strong>Publisher(s) </strong></div>\n                    <div *ngIf="!item?.publishers?.length"><em>None specified</em></div>\n                    <div *ngFor="let pub of item?.publishers">\n                        <gpid-resource-link [item]="pub"></gpid-resource-link>\n                    </div>\n                </div>\n\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <div><strong>Issued</strong></div>\n                    <span *ngIf="item?.issued">{{item.issued|date}}</span>\n                    <span *ngIf="!item?.issued">Not specified</span>\n                </div>\n\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <div><strong>Source Metadata</strong></div>\n                    <span *ngIf="!item?.source?.uri">Not specified</span>\n                    <a *ngIf="item?.source?.uri" href="{{item.source.uri}}"\n                        target="_blank" class="u-break--all">\n                        {{item.source.label||item.source.uri}}\n                    </a>\n                </div>\n\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <div><strong>Home Page </strong></div>\n                    <span *ngIf="!item?.landingPage">Not specified</span>\n                    <a *ngIf="item?.landingPage" href="{{item.landingPage}}"\n                        target="_blank" class="u-break--all">\n                        {{item.landingPage}}\n                    </a>\n                </div>\n\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <div><strong>Purpose</strong></div>\n                    {{item.purpose || "Not specified"}}\n                </div>\n\n                <div class="m-article__desc">\n                    <gpid-use-constraints *ngIf="isAsset()" [rights]="item?.rights">\n                    </gpid-use-constraints>\n                </div>\n\n                <div class="m-article__desc">\n                    <gpid-alt-ids *ngIf="isAsset()" [ids]="item?.identifiers"></gpid-alt-ids>\n                </div>\n\n                \x3c!-- end all Assets --\x3e\n\n\n                \x3c!-- Datasets --\x3e\n                <gpid-dataset-details *ngIf="\'dcat:Dataset\'===item?.type" [item]="item">\n                </gpid-dataset-details>\n\n\n                \x3c!-- Services --\x3e\n                <gpid-service-details *ngIf="\'regp:Service\'===item?.type" [item]="item">\n                </gpid-service-details>\n\n\n\n                \x3c!-- Layers --\x3e\n                <gpid-layer-details *ngIf="\'Layer\'===item?.type" [item]="item">\n                </gpid-layer-details>\n\n\n\n                \x3c!-- Concepts --\x3e\n                <div class="m-article__desc" *ngIf="item?.scheme">\n                    <div><strong>Concept Scheme</strong></div>\n                    <gpid-resource-link [item]="item.scheme"></gpid-resource-link>\n                </div>\n\n\n                \x3c!-- Organization --\x3e\n                <div class="m-article__desc" *ngIf="\'org:Organization\'===item?.type">\n                    <div><strong>Parent Organization</strong></div>\n                    <gpid-resource-link *ngIf="item?.subOrganizationOf" [item]="item.subOrganizationOf"></gpid-resource-link>\n                    <div *ngIf="!item?.subOrganizationOf">Not specified</div>\n                </div>\n\n\n                \x3c!-- Contact (VCard) --\x3e\n                <gpid-contact-details *ngIf="item?.type===\'vcard:VCard\'" [item]="item">\n                </gpid-contact-details>\n\n\n                \x3c!-- Person --\x3e\n                <div class="m-article__desc" *ngIf="item?.type===\'foaf:Person\'">\n                    <div><strong>Name</strong></div>\n                    <div>{{item.name||"Not specified"}}</div>\n                </div>\n\n            </div>\n        </div>\n\n\n\n        <div class="m-section-group" *ngIf="hasCoverage()">\n            <div class="m-article">\n                <div class="m-article__heading">\n                    <span *ngIf="item?.type===\'Map\'">Map Preview</span>\n                    <span *ngIf="item?.type===\'Layer\'">Layer Preview</span>\n                    <span *ngIf="item?.type!==\'Map\'&&item?.type!==\'Layer\'">Geographic Extent</span>\n                </div>\n                <br>\n                <gpid-coverage-map\n                    [extent]="item?.extent"\n                    [mapId]="item?.type===\'Map\'?item.id:null"\n                    [layerId]="item?.type===\'Layer\'?item.id:null">\n                </gpid-coverage-map>\n            </div>\n        </div>\n\n\n\n        <div class="m-section-group" *ngIf="isAsset()">\n\n            <div class="m-article">\n                <div class="m-article__heading">Related Resources</div>\n                <br>\n\n                \x3c!-- Dataset Distributions --\x3e\n                <div class="m-article__desc" *ngIf="\'dcat:Dataset\'===item?.type">\n                    <gpid-dataset-distributions [item]="item"></gpid-dataset-distributions>\n                </div>\n\n                <div class="m-article__desc" *ngIf="\'Layer\'===item?.type||\'dcat:Dataset\'===item?.type">\n                    <gpid-services [item]="item"></gpid-services>\n                </div>\n\n                \x3c!-- Service Layers --\x3e\n                <div class="m-article__desc" *ngIf="\'regp:Service\'===item?.type">\n                    <gpid-service-layers [serviceId]="item?.id"></gpid-service-layers>\n                </div>\n\n                \x3c!-- Map Layers --\x3e\n                <div class="m-article__desc" *ngIf="\'Map\'===item?.type">\n                    <gpid-map-layers [map]="item"></gpid-map-layers>\n                </div>\n\n                \x3c!-- Gallery Items --\x3e\n                <div class="m-article__desc" *ngIf="\'Gallery\'===item?.type">\n                    <gpid-gallery-items [items]="item?.items"></gpid-gallery-items>\n                </div>\n\n                \x3c!-- Community --\x3e\n                <div class="m-article__desc" *ngIf="\'Community\'===item?.type">\n                    <gpid-community-members [members]="item?.members"></gpid-community-members>\n                </div>\n\n                \x3c!-- Used By (Community Refences) --\x3e\n                <div class="m-article__desc" *ngIf="isAsset()">\n                    <gpid-used-by [communities]="item?.usedBy"></gpid-used-by>\n                </div>\n\n                \x3c!-- Related Resources --\x3e\n                <div class="m-article__desc">\n                    <gpid-related [related]="item?.related"></gpid-related>\n                </div>\n\n            </div>\n\n        </div>\n\n\n        \x3c!-- Service Statistics --\x3e\n        <gpid-service-stats class="m-section-group"\n            *ngIf="\'regp:Service\'===item?.type" [item]="item">\n        </gpid-service-stats>\n\n\n        \x3c!-- RPM Usage --\x3e\n        <gpid-usage *ngIf="isAsset()" class="m-section-group" [item]="item">\n        </gpid-usage>\n\n\n        \x3c!-- Knowledge Graph --\x3e\n        <gpid-kg *ngIf="isAsset()" class="m-section-group"\n            [classifiers]="item?.classifiers"></gpid-kg>\n\n\n    </div>\n\n\n\n    <div class="l-body__side-column">\n\n\n        \x3c!-- THUMBNAIL --\x3e\n        <gpid-depiction class="m-article" *ngIf="isAsset()"\n            [thumbnail]="item?.thumbnail">\n        </gpid-depiction>\n\n\n        \x3c!-- ACTIONS --\x3e\n        <div class="m-article p-item__actions">\n\n            <gpid-primary-action [item]="item"></gpid-primary-action>\n\n            <div *ngIf="isAsset()">\n                <gpid-like-action [item]="item" [service]="itemService"></gpid-like-action>\n                <gpid-export-action [item]="item" [service]="itemService"></gpid-export-action>\n            </div>\n\n            <gpid-edit-action [item]="item"></gpid-edit-action>\n            \x3c!-- <gpid-delete-action [item]="item"></gpid-delete-action> --\x3e\n\n        </div>\n\n\n        \x3c!-- ABOUT --\x3e\n        <gpid-about [item]="item" class="m-article"></gpid-about>\n\n\n        \x3c!-- Keywords --\x3e\n        <gpid-keywords [keywords]="item?.keywords" class="m-article"></gpid-keywords>\n\n        <br>\n\n        \x3c!-- Associated Items\n        <div class="m-article">\n            <div class="m-article__heading">\n                <span class="fas fa-caret-down"\n                    onClick="toggleClass(\'#associated-items\', \'is-hidden\');toggleClass(\'#associated-items-summary\', \'is-hidden\')">\n                </span>\n                Associated Items\n            </div>\n            <div class="m-article__desc is-hidden" id="associated-items-summary">\n                Expand to see associated items\n            </div>\n            <div class="m-article__desc" id="associated-items">\n                <div><strong>Services</strong></div>\n                <div>\n                    <a href="/items/service.html">\n                        <img class="a-icon" src="/assets/icons/service.svg">\n                        Service\n                    </a>\n                </div>\n                <br>\n                <div><strong>Layers</strong></div>\n                <div>\n                    <a href="/items/layer.html">\n                        <img class="a-icon" src="/assets/icons/layer.svg">\n                        Layer A\n                    </a>\n                </div>\n                <div>\n                    <a href="/items/layer.html">\n                        <img class="a-icon" src="/assets/icons/layer.svg">\n                        Layer B\n                    </a>\n                </div>\n                <div>\n                    <a href="/items/layer.html">\n                        <img class="a-icon" src="/assets/icons/layer.svg">\n                        Layer C\n                    </a>\n                </div>\n                <div>\n                    <a href="/items/layer.html">\n                        <img class="a-icon" src="/assets/icons/layer.svg">\n                        Layer D\n                    </a>\n                </div>\n                <br>\n                <div><strong>Galleries</strong></div>\n                <div>\n                    <a href="/items/gallery.html">\n                        <img class="a-icon" src="/assets/icons/gallery.svg">\n                        Gallery\n                    </a>\n                </div>\n                <br>\n                <div><strong>Others</strong></div>\n                <div><a class="is-linkless">Related Resource</a></div>\n                <div><a class="is-linkless">Related Resource</a></div>\n            </div>\n        </div>\n        --\x3e\n\n    </div>\n\n</div>\n'},XIhV:function(e,t){e.exports=".tab-content {\n  /* maintain specific height to ensure content following this component\n       doesn't jump when a tab hasn't had content ready upon opening */\n  height: 300px;\n}\n"},XboJ:function(e,t){e.exports=""},Y0FW:function(e,t){e.exports='<div *ngIf="item">\n    <div class="u-text--justify u-mg-bottom--md">\n        {{getDescription()}}\n    </div>\n    <button type="button" class="btn btn-primary btn-block" (click)="doAction()">\n        {{getLabel()}}\n    </button>\n</div>\n'},YOvZ:function(e,t){e.exports=""},YYDX:function(e,t){e.exports=".m-list--unbulleted > * {\n  display: block;\n  padding: .25em;\n}\n.m-list--unbulleted > * .m-list--tree {\n  margin-left: .35em;\n}\ngpid-resource-link > a {\n  padding: .25em;\n}\n"},ZBOP:function(e,t){e.exports='<div class="m-article__heading">\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleDisplay()">\n    </span>\n    Keywords\n</div>\n<div class="m-article__desc" *ngIf="isCollapsed">\n    Expand to see keywords\n</div>\n<div class="m-article__desc" *ngIf="!isCollapsed">\n    <div *ngIf="!keywords || !keywords.length">\n        <em>None specified</em>\n    </div>\n    <div *ngIf="keywords && keywords.length" class="u-text--left">\n        <a *ngFor="let key of keywords"\n            href="/geoplatform-search/#?keywords={{key}}"\n            class="a-badge--light">{{key}}\n        </a>\n    </div>\n</div>\n'},Zpsx:function(e,t){e.exports='<div class="m-article__desc">\n    <div><strong>Layer Type</strong></div>\n    <div *ngIf="item?.layerType">{{item.layerType}}</div>\n    <div *ngIf="!item?.layerType" class="t-fg--warning">\n        <span class="fas fa-exclamation-triangle"></span>\n        Layer does not specify a layer type\n    </div>\n</div>\n\n<div class="m-article__desc">\n    <div><strong>Layer Name</strong></div>\n    <div *ngIf="item?.layerName">{{item.layerName}}</div>\n    <div *ngIf="!item?.layerName" class="t-fg--danger">\n        <span class="fas fa-exclamation-circle"></span>\n        Layer does not specify a layer name\n    </div>\n</div>\n\n<div class="m-article__desc">\n    <div><strong>Supported Formats</strong></div>\n    <div *ngIf="!item?.supportedFormats"></div>\n    <span *ngFor="let format of item?.supportedFormats">{{format}}</span>\n    <div *ngIf="!item?.supportedFormats || !item?.supportedFormats?.length" class="t-fg--warning">\n        <span class="fas fa-exclamation-triangle"></span>\n        Layer does not specify any formats\n    </div>\n</div>\n'},abLu:function(e,t){e.exports='<a href="/resources/{{getType()}}/{{item?.id}}">\n    <img *ngIf="hasIcon()" class="a-icon" src="{{getIcon()}}">\n    {{getLabel()}}\n</a>\n'},cIZh:function(e,t){e.exports='<div *ngIf="item" class="dropdown">\n    <button class="btn btn-secondary btn-block dropdown-toggle"\n        type="button" id="dropdownMenuButton"\n        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        Export as\n    </button>\n    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">\n        <button type="button" class="dropdown-item"\n            *ngFor="let format of getFormats()"\n            (click)="doAction(format.value)">\n            {{format.label}}\n        </button>\n    </div>\n</div>\n'},d2KM:function(e,t){e.exports=""},d4AK:function(e,t){e.exports='<button type="button" class="btn btn-danger btn-block"\n    *ngIf="item && isAuthorized()" (click)="doAction()">\n    <span class="fas fa-trash"></span> Delete\n</button>\n'},dCMk:function(e,t){e.exports='<div>\n    \x3c!-- <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span> --\x3e\n    <strong>Use Constraints</strong>\n</div>\n<div *ngIf="!isCollapsed">\n    <div *ngIf="!rights || !rights.length">None specified</div>\n    <div *ngFor="let use of rights">{{use.description||"not defined"}}</div>\n</div>\n'},ddsH:function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Alternate Titles ({{titles?.length||0}})</strong>\n</div>\n<div *ngIf="!isCollapsed">\n    <div *ngIf="!titles || !titles.length">None specified</div>\n    <div *ngFor="let alt of titles">{{alt}}</div>\n</div>\n'},fDxB:function(e,t){e.exports=""},fio3:function(e,t){e.exports='\n<div class="m-article__heading">About</div>\n\n<div *ngIf="item">\n\n    <div class="m-article__desc">\n        <strong>Created </strong>\n        {{item.created|date:\'shortDate\'}} by\n        <a *ngIf="item.createdBy"\n            href="/geoplatform-search/#?createdBy={{item.createdBy}}">\n            {{item.createdBy}}\n        </a>\n        <span *ngIf="!item.createdBy">an unknown user</span>\n    </div>\n\n    <div class="m-article__desc">\n        <strong>Last Modified </strong>\n        {{item.modified|date:\'shortDate\'}} by\n        <a *ngIf="item.lastModifiedBy"\n            href="/geoplatform-search/#?lastModifiedBy={{item.lastModifiedBy}}">\n            {{item.lastModifiedBy}}\n        </a>\n        <span *ngIf="!item.lastModifiedBy">an unknown user</span>\n    </div>\n\n    <div class="m-article__desc" *ngIf="item.visibility">\n        <strong>Visibility </strong>{{item.visibility}}\n    </div>\n\n    <div class="m-article__desc">\n        <strong>GeoPlatform URI </strong>\n        <p class="u-text--sm t-fg--gray-md u-break--all">{{item.uri}}</p>\n    </div>\n\n    <div class="m-article__desc" *ngIf="item.temporal">\n        <strong>Temporal Extent </strong>\n        <div>\n            <span *ngIf="item.temporal.startDate">{{item.temporal.startDate|date:\'mediumDate\'}}</span>\n            <em *ngIf="!item.temporal.startDate">N/A</em>\n             -\n            <span *ngIf="item.temporal.endDate">{{item.temporal.endDate|date:\'mediumDate\'}}</span>\n            <em *ngIf="!item.temporal.endDate">N/A</em>\n        </div>\n    </div>\n\n    <div class="m-article__desc" *ngIf="isAsset()">\n        <div><strong>Creators(s) </strong></div>\n        <div *ngIf="!item.creators||!item.creators.length">\n            <em>None specified</em>\n        </div>\n        <div *ngFor="let creator of item.creators">\n            <gpid-resource-link [item]="creator"></gpid-resource-link>\n        </div>\n    </div>\n\n    <div class="m-article__desc" *ngIf="isAsset()">\n        <div><strong>Contact(s) </strong></div>\n        <div *ngIf="!item.contacts||!item.contacts.length">\n            <em>None specified</em>\n        </div>\n        <div *ngFor="let contact of item.contacts">\n            <gpid-resource-link [item]="contact"></gpid-resource-link>\n        </div>\n    </div>\n</div>\n'},iSKL:function(e,t){e.exports='\n<div><strong>{{label}}</strong></div>\n<span *ngIf="!value">Not specified</span>\n<div *ngIf="value">\n\n    <div *ngIf="hasMultiple" class="m-list">\n        <div *ngFor="let val of value" class="m-list__item">\n            <div *ngIf="!isUrl">\n                {{valueProperty?val[valueProperty]:val}}\n            </div>\n            <a *ngIf="isUrl" href="{{valueProperty?value[valueProperty]:value}}"\n                target="_blank" class="u-break--all">\n                {{labelProperty?val[labelProperty]:val}}\n            </a>\n        </div>\n    </div>\n\n    <div *ngIf="!hasMultiple">\n        <div *ngIf="!isUrl">\n            {{valueProperty?value[valueProperty]:value}}\n        </div>\n        <a *ngIf="isUrl" href="{{valueProperty?value[valueProperty]:value}}"\n            target="_blank" class="u-break--all">\n            {{labelProperty ? value[labelProperty] || (valueProperty?value[valueProperty]:value) : value}}\n        </a>\n    </div>\n\n</div>\n'},kbJG:function(e,t){e.exports=""},lS2Z:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="lS2Z"},okgc:function(e,t){e.exports='\n\n.m-message__container {\n    padding: 1em 3em;\n    text-align: center;\n}\n\n.m-message__container *[class^="m-message--"] {\n    margin: 0 auto;\n    text-align: left;\n    border-radius: 4px;\n}\n\n@media(min-width:992px) {\n    .m-message__container {\n        padding: 1em 25%;\n    }\n}\n'},pmRi:function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Service Layers ({{layerTotal}})</strong>\n</div>\n\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see layers hosted by this service\n</div>\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n\n    <div *ngIf="!layers || !layers.length">\n        <em>None specified</em>\n    </div>\n\n    <div *ngIf="layers" class="m-list--unbulleted">\n        <gpid-service-layer *ngFor="let layer of layers" [layer]="layer"></gpid-service-layer>\n    </div>\n\n</div>\n'},"q8+t":function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Gallery Items</strong>\n</div>\n\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see items referenced by this gallery\n</div>\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n\n    <div *ngIf="!items && !items.length">\n        <em>None specified</em>\n    </div>\n\n    <div *ngIf="items && items.length" class="o-gallery__items">\n        <div *ngFor="let item of items" class="o-gallery__item">\n            <div *ngIf="item.asset">\n                <gpid-depiction [thumbnail]="item.asset.thumbnail"></gpid-depiction>\n                <gpid-resource-link [item]="item.asset"></gpid-resource-link>\n            </div>\n        </div>\n    </div>\n\n</div>\n'},r87P:function(e,t){e.exports='<div class="u-mg-bottom--md">\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Map Layers</strong>\n</div>\n\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see layers refenced by this map\n</div>\n\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}" *ngIf="map" class="u-mg-left--xlg">\n\n    <strong class="t-fg--gray-md">Overlay Layers</strong>\n\n    <div *ngIf="!map?.layers || !map?.layers.length" class="t-fg--warning">\n        <span class="fas fa-exclamation-triangle"></span>\n        No overlay layers specified\n    </div>\n\n    <div *ngIf="map?.layers" class="m-list">\n        <div *ngFor="let state of map?.layers" class="m-list__item">\n            <div *ngIf="state.layer">\n                <gpid-resource-link [item]="state.layer"></gpid-resource-link>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}" *ngIf="map" class="u-mg-left--xlg">\n\n    <strong class="t-fg--gray-md">Base Layer</strong>\n\n    <div *ngIf="!map.baseLayer" class="t-fg--warning">\n        <span class="fas fa-exclamation-triangle"></span>\n        No base layer specified\n    </div>\n\n    <div *ngIf="map.baseLayer" class="m-list">\n        <gpid-resource-link [item]="map.baseLayer" class="m-list__item"></gpid-resource-link>\n    </div>\n</div>\n'},wJcD:function(e,t){e.exports=""},wrN0:function(e,t){e.exports='<div class="m-article">\n    <div class="m-article__heading">\n        <span class="fas"\n            [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n            (click)="toggleDisplay()">\n        </span>\n        Knowledge Graph\n    </div>\n    <div class="m-article__desc" *ngIf="isCollapsed">\n        Expand to see knowledge enrichment of this item\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}">\n\n        <ul class="nav nav-pills" id="myTab" role="tablist">\n            <li class="nav-item" *ngFor="let key of getKeys()">\n                <a class="nav-link"\n                    [ngClass]="{active:key===activeTab}"\n                    (click)="changeTab(key)"\n                    id="kg-{{key}}-tab"\n                    role="tab"\n                    [attr.aria-controls]="key"\n                    [attr.aria-selected]="key===activeTab">\n                    {{key}}\n                </a>\n            </li>\n        </ul>\n\n\n        <div class="tab-content" id="myTabContent" style="width:100%">\n\n            <div *ngFor="let key of getKeys()"\n                class="tab-pane"\n                [ngClass]="{active:key===activeTab}"\n                role="tabpanel"\n                [attr.aria-labelledby]="\'kg-\' + key + \'-tab\'">\n\n                <div *ngIf="!classifiers || !classifiers[key]">\n                    <em>None specified</em>\n                </div>\n\n                <div *ngIf="classifiers && classifiers[key]">\n                    <div *ngFor="let val of classifiers[key]">\n                        <gpid-resource-link [item]="val"></gpid-resource-link>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n</div>\n'},x35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s,a=n("WT6e"),o=n("4PVY"),r=n("OE0E"),c=n("ItHS"),l=n("kzcK"),p=n("Jfsf"),d=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},f=function(){function e(){}return e.prototype.transform=function(e,t){return e&&e.length>t?e.slice(0,t):e},e=d([Object(a.Pipe)({name:"limitTo"})],e)}(),u=function(){function e(){}return e.prototype.transform=function(e){if(!e||"string"!=typeof e||0===e.length)return e;var t=e,n=e.indexOf(":");return~n&&(t=e.substring(n+1)),"VCard"===t&&(t="Contact"),t},e=d([Object(a.Pipe)({name:"friendlyType"})],e)}(),m=function(){function e(){}return e.prototype.transform=function(e){if(!e||"string"!=typeof e||!e.length)return"Untitled";var t=e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)},e=d([Object(a.Pipe)({name:"fixLabel"})],e)}(),g={production:!0,env:"sit",ualUrl:"https://sit-ual.geoplatform.us",wpUrl:"",editUrl:"https://sit-oe.geoplatform.us/edit/{id}",svcHistoryUrl:"https://sit-dashboard.geoplatform.us/api/sd/service/{id}/history",helpUrl:"https://sit.geoplatform.us/help/apps/geoplatform-item-details/",root:"wp-content/plugins/geoplatform-item-details/",assets:"/wp-content/plugins/geoplatform-item-details/assets"},y=n("nrd6"),v=n("ebae"),h=n("QlcS"),b=function(){function e(){}return e.isAsset=function(e){if(!e)return!1;var t=null;return"string"==typeof e?t=e:e.type&&(t=e.type),t&&(t===v.ItemTypes.DATASET||t===v.ItemTypes.SERVICE||t===v.ItemTypes.LAYER||t===v.ItemTypes.MAP||t===v.ItemTypes.GALLERY||t===v.ItemTypes.COMMUNITY)},e.getIcon=function(e){return e?"string"==typeof e?this.determineIconType(e):e.type?this.determineIconType(e.type):null:null},e.getLabel=function(e){if(!e||!e.type)return"Unknown type";switch(e.type){case v.ItemTypes.DATASET:case v.ItemTypes.SERVICE:case v.ItemTypes.LAYER:case v.ItemTypes.MAP:case v.ItemTypes.GALLERY:case v.ItemTypes.COMMUNITY:return e.label||e.title||"Un-titled resource";case v.ItemTypes.ORGANIZATION:case v.ItemTypes.PERSON:return e.label||e.name||"Un-titled resource";case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:return e.label||e.prefLabel||"Un-titled resource";case v.ItemTypes.CONTACT:return(e.fullName||"Unnamed contact")+(e.orgName?" ("+e.orgName+")":"");default:return"Unknown type"}},e.getTypeLabel=function(e){if(!e)return"Unknown Resource Type";var t=null;if("string"==typeof e)t=e;else{if(!e.type)return null;t=e.type}switch(t){case v.ItemTypes.DATASET:return"Dataset";case v.ItemTypes.SERVICE:return"Service";case v.ItemTypes.ORGANIZATION:return"Organization";case v.ItemTypes.CONTACT:return"Contact";case v.ItemTypes.PERSON:return"Person";case v.ItemTypes.CONCEPT:return"Concept";case v.ItemTypes.CONCEPT_SCHEME:return"Concept Scheme";case v.ItemTypes.LAYER:return"Layer";case v.ItemTypes.MAP:return"Map";case v.ItemTypes.GALLERY:return"Gallery";case v.ItemTypes.COMMUNITY:return"Community";default:return"Unknown Resource Type"}},e.getTypeKey=function(e){if(!e)return null;var t=null;if("string"==typeof e)t=e;else{if(!e.type)return null;t=e.type}switch(t){case v.ItemTypes.DATASET:case v.ItemTypes.SERVICE:case v.ItemTypes.ORGANIZATION:case v.ItemTypes.PERSON:case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:return t.split(":")[1].toLowerCase()+"s";case v.ItemTypes.LAYER:case v.ItemTypes.MAP:return t.toLowerCase()+"s";case v.ItemTypes.GALLERY:return"galleries";case v.ItemTypes.COMMUNITY:return"communities";case v.ItemTypes.CONTACT:return"contacts";default:return"unsupported"}},e.determineIconType=function(e){var t="dataset";switch(e){case v.ItemTypes.DATASET:case v.ItemTypes.ORGANIZATION:case v.ItemTypes.CONTACT:case v.ItemTypes.PERSON:case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:t=e.split(":")[1].toLowerCase();break;case v.ItemTypes.LAYER:case v.ItemTypes.MAP:case v.ItemTypes.GALLERY:case v.ItemTypes.COMMUNITY:t=e.toLowerCase()}return g.assets+"/icons/"+t+".svg"},e}(),I=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(e){function t(t,n){var i=e.call(this,t)||this;return i.status=500,n&&(i.status=n),i}return I(t,e),t}(Error),_=(n("owTz"),n("EN1B"),n("xgm2"),n("MDfR"),function(){function e(e,t){this.http=e,this.timeout=1e4,t=t||{},this.setTimeout(t.timeout||1e4),this.setAuthToken(t.token)}return e.prototype.setTimeout=function(e){this.timeout=e},e.prototype.setAuthToken=function(e){e&&"string"==typeof e?this.token=function(){return e}:e&&"function"==typeof e&&(this.token=e)},e.prototype.createRequestOpts=function(e){var t={};if(e.options&&e.options.responseType?t.responseType=e.options.responseType:t.responseType="json",e.params&&(t.params=new c.HttpParams({fromObject:e.params})),e.data&&(t.body=e.data),t.headers=new c.HttpHeaders,this.token){var n=this.token();n&&t.headers.set("Authorization","Bearer "+n)}return t.body?new c.HttpRequest(e.method,e.url,t.body,t):new c.HttpRequest(e.method,e.url,t)},e.prototype.execute=function(e){return this.http.request(e).map(function(e){return e instanceof c.HttpResponse?e.body:{}}).toPromise().catch(function(e){if(e instanceof c.HttpErrorResponse){var t="An error occurred communicating with the GeoPlatform API";throw e.error&&e.error.error&&e.error.error.message?t=e.error.error.message:e.error&&e.error.message?t=e.error.message:e.message&&(t=e.message),new C(t,e.status)}return{}})},e}()),O=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=/resources\/([A-Za-z]+)\/([a-z0-9]+)/i,w=function(){function e(e,t){this.el=e;var n=new _(t);this.itemService=new v.ItemService(v.Config.ualUrl,n)}return e.prototype.ngOnInit=function(){var e=this,t=this.parseURL();t&&t.id?this.itemService.get(t.id).then(function(t){e.item=t,e.updatePageTitle("GeoPlatform Resource : "+b.getTypeLabel(t))}).catch(function(t){t.status&&404===t.status?e.handleNotFound(t):t.status&&403===t.status?e.handleUnauthorized(t):e.handleError(t)}):this.handleError({label:"Malformed URL",message:"The URL you provided is not a valid GeoPlatform resource identifier"})},e.prototype.ngOnDestroy=function(){},e.prototype.parseURL=function(){var e=window.location.href,t=x.exec(e);if(t&&t.length){var n=t[1];return{id:t[2],type:n}}return null},e.prototype.updatePageTitle=function(e){if(e&&e.length){var t=this.el.nativeElement.ownerDocument;if(t){var n=t.getElementsByClassName("a-page__title");n.length&&(n[0].innerHTML=e)}}},e.prototype.handleNotFound=function(e){this.handleError({label:"Item Not Found",message:"Could not find a resource with the specified identifier"})},e.prototype.handleUnauthorized=function(e){this.handleError({label:"Unauthorized",message:"You do not have authorization to view the requested resource"})},e.prototype.handleError=function(e){this.error=new C(e.message),this.error.label=e.label||e.error||"An Error Occurred"},e=O([Object(a.Component)({selector:"app-root",template:n("5xMp"),styles:[n("okgc")]}),R("design:paramtypes",[a.ElementRef,c.HttpClient])],e)}(),j=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},T=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},k=function(){function e(){this.external=!1}return e.prototype.ngOnInit=function(){},e.prototype.hasIcon=function(){return!0},e.prototype.getIcon=function(){return b.getIcon(this.item)},e.prototype.getLabel=function(){return b.getLabel(this.item)},e.prototype.getType=function(){return b.getTypeKey(this.item)},j([Object(a.Input)(),T("design:type",Object)],e.prototype,"item",void 0),j([Object(a.Input)(),T("design:type",Object)],e.prototype,"icon",void 0),j([Object(a.Input)(),T("design:type",Boolean)],e.prototype,"external",void 0),e=j([Object(a.Component)({selector:"gpid-resource-link",template:n("abLu"),styles:[n("SkEp")]}),T("design:paramtypes",[])],e)}(),P=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},A=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(){this.hasMultiple=!1,this.isUrl=!1}return e.prototype.ngOnInit=function(){},P([Object(a.Input)(),A("design:type",String)],e.prototype,"label",void 0),P([Object(a.Input)(),A("design:type",Object)],e.prototype,"value",void 0),P([Object(a.Input)(),A("design:type",String)],e.prototype,"labelProperty",void 0),P([Object(a.Input)(),A("design:type",String)],e.prototype,"valueProperty",void 0),P([Object(a.Input)(),A("design:type",Boolean)],e.prototype,"hasMultiple",void 0),P([Object(a.Input)(),A("design:type",Boolean)],e.prototype,"isUrl",void 0),e=P([Object(a.Component)({selector:"gpid-property",template:n("iSKL"),styles:[n("EYwi")]}),A("design:paramtypes",[])],e)}(),S=n("Gvdl"),D=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(e){var t=this;this.authService=e,this.observers=[],this.user$=new S.Observable(function(e){e.next,e.error;var n=t.observers.length;return t.observers.push(e),{unsubscribe:function(){this.observers.splice(n,1)}}});var n=e.getMessenger().raw();this.gpAuthSubscription=n.subscribe(function(e){switch(console.log("Received Auth Message: "+e.name),e.name){case"userAuthenticated":t.onUserChange(e.user);break;case"userSignOut":t.onUserChange(null)}}),this.authService.getUser().then(function(e){console.log("USER: "+JSON.stringify(e)),t.onUserChange(e)}).catch(function(e){console.log("Error retrieving user: "+e.message)})}return e.prototype.onUserChange=function(e){this.user=e,this.observers.forEach(function(t){return t.next(e)})},e.prototype.isAuthenticated=function(){return!!this.user},e.prototype.getUser=function(){return this.user},e.prototype.subscribe=function(e){return this.user$.subscribe(e)},e=D([Object(a.Injectable)(),L("design:paramtypes",[h.a])],e)}(),N=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},U=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},z=function(){function e(e,t,n){this.el=e,this.authService=n,this.hasLongDescription=!1,this.descriptionCollapsed=!0;var i=new _(t);this.itemService=new v.ItemService(v.Config.ualUrl,i)}return e.prototype.ngOnInit=function(){this.onResize()},e.prototype.ngOnChanges=function(e){var t=this;e.item&&setTimeout(function(){t.onResize()},500)},e.prototype.ngOnDestroy=function(){},e.prototype.onResize=function(){var e=this.el.nativeElement.getElementsByClassName("a-description__display");if(e.length){var t=parseInt(e[0].offsetHeight);this.hasLongDescription=t>68}},e.prototype.toggleDesc=function(){this.descriptionCollapsed=!this.descriptionCollapsed},e.prototype.isAuthorized=function(e){if(!this.authService.isAuthenticated())return!1;this.authService.getUser();switch(e){case"edit":case"delete":default:return!1}},e.prototype.hasCoverage=function(){return this.item&&(this.item.extent||this.item.type===v.ItemTypes.MAP||this.item.type===v.ItemTypes.LAYER)},e.prototype.isAsset=function(){return b.isAsset(this.item)},e.prototype.getTypeKey=function(){return b.getTypeKey(this.item)},e.prototype.getTitle=function(){return b.getLabel(this.item)},N([Object(a.Input)(),U("design:type",Object)],e.prototype,"item",void 0),e=N([Object(a.Component)({selector:"gpid-item",template:n("Wdnl"),styles:[n("5oDZ")]}),U("design:paramtypes",[a.ElementRef,c.HttpClient,M])],e)}(),B=n("u7SN"),F=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},G=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=function(){function e(){var e=this;this.isCollapsed=!1,this.activeTab="usage_weekly",this.tabs={usage_weekly:{status:!0,label:"Past Week"},usage_monthly:{status:!1,label:"Past Month"},usage_yearly:{status:!1,label:"Past Year"}},this.charts={usage_weekly:{status:!1,fn:function(){e.drawWeeklyChart()}},usage_monthly:{status:!1,fn:function(){e.drawMonthlyChart()}},usage_yearly:{status:!1,fn:function(){e.drawYearlyChart()}}},this.googleIsLoaded=!1,this.googleWaitAttempts=0}return e.prototype.ngOnInit=function(){var e=this;B.a.load(function(){e.googleIsLoaded=!0})},e.prototype.ngOnChanges=function(e){if(e.item&&e.item.currentValue){e.item.currentValue.id;this.initCharts(!0)}},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},e.prototype.getTabKeys=function(){return Object.keys(this.tabs)},e.prototype.changeTab=function(e){var t=this;this.tabs[this.activeTab].status=!1,this.tabs[e].status=!0,this.activeTab=e,this.charts[e].status||setTimeout(function(){t.charts[e].status=!0,t.charts[e].fn()},100)},e.prototype.initCharts=function(e){var t=this;if(void 0===e&&(e=!1),this.googleIsLoaded){!0===e&&this.charts.forEach(function(e){e.status=!1});var n=this.charts[this.activeTab];n.status||setTimeout(function(){n.status=!0,n.fn()},100)}else this.googleWaitAttempts<5&&setTimeout(function(){t.initCharts()},1e3)},e.prototype.drawWeeklyChart=function(){var e=new B.a.api.visualization.DataTable;e.addColumn("string","Day"),e.addColumn("number","Displayed"),e.addColumn({type:"string",role:"tooltip"});var t=new Date,n=t.getTime();n-=6048e5,t.setTime(n);for(var i=[],s=0,a=0;a<7;++a){n=t.getTime(),n+=864e5,t.setTime(n);var o=t.getDay(),r=Math.floor(10*Math.random());s=Math.max(s,r);var c=H[o]+" ("+(t.getMonth()+1)+"/"+(t.getDate()+1)+")";i.push([c,r,r+""])}e.addRows(i);var l={height:300,title:"Last 7 Days",hAxis:{title:"Date",format:"M/d/yy",minValue:i[0][0],maxValue:i[i.length-1][0]},vAxis:{title:"Usage",minValue:0,maxValue:s+10},legend:"none"},p=document.getElementById("usage_weekly_chart");new B.a.api.visualization.LineChart(p).draw(e,l)},e.prototype.drawMonthlyChart=function(){var e=new B.a.api.visualization.DataTable;e.addColumn("number","Day"),e.addColumn("number","Displayed"),e.addColumn({type:"string",role:"tooltip"});for(var t=new Date,n=(t.getMonth(),t.getDate()),i=[],s=0,a=0;a<n;++a){var o=Math.floor(10*Math.random());s=Math.max(s,o),i.push([a+1,o,o+""])}e.addRows(i);var r={height:300,title:"This Month",hAxis:{title:"Day of Month",minValue:0,maxValue:n},vAxis:{title:"Usage",minValue:0,maxValue:s+10},legend:"none"},c=document.getElementById("usage_monthly_chart");new B.a.api.visualization.LineChart(c).draw(e,r)},e.prototype.drawYearlyChart=function(){var e=new B.a.api.visualization.DataTable;e.addColumn("string","Month"),e.addColumn("number","Displayed"),e.addColumn({type:"string",role:"tooltip"});for(var t=(new Date).getMonth(),n=[],i=0,s=0;s<t;++s){var a=Math.floor(10*Math.random());i=Math.max(i,a),n.push([Y[s],a,a+""])}e.addRows(n);var o={height:300,title:"This Year",hAxis:{title:"Month"},vAxis:{title:"Usage",minValue:0,maxValue:i+10},legend:"none"},r=document.getElementById("usage_yearly_chart");new B.a.api.visualization.LineChart(r).draw(e,o)},F([Object(a.Input)(),G("design:type",Object)],e.prototype,"item",void 0),e=F([Object(a.Component)({selector:"gpid-usage",template:n("0ljv"),styles:[n("XIhV")]}),G("design:paramtypes",[])],e)}(),Z=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},K=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},W=function(){function e(e){this.isCollapsed=!1,this.isFetchingData=!0,this.googleIsLoaded=!1,this.googleWaitAttempts=0,this.httpClient=new _(e,{timeout:v.Config.timeout||6e4})}return e.prototype.ngOnInit=function(){var e=this;B.a.load(function(){e.googleIsLoaded=!0})},e.prototype.ngOnChanges=function(e){var t=this;if(e.item&&e.item.currentValue){e.item.currentValue.id;this.getServiceHistory().then(function(e){t.svcStatsData=e,t.initChart(!0)}).catch(function(e){t.isFetchingData=!1,console.log("ServiceStats.ngOnChanges() - Unable to fetch service history: "+e.message);t.error=new C("An error occurred attempting to fetch service performance history",500),t.error.label="Unable to Fetch Service History"})}},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},e.prototype.initChart=function(e){var t=this;void 0===e&&(e=!1),this.googleIsLoaded?setTimeout(function(){t.drawWeeklyChart()},100):this.googleWaitAttempts<5&&setTimeout(function(){t.initChart(e)},1e3)},e.prototype.drawWeeklyChart=function(){var e=new B.a.api.visualization.DataTable;e.addColumn("string","Date"),e.addColumn("number","Score"),e.addColumn("number","Speed");var t=[];(this.svcStatsData||[]).forEach(function(e,n){var i=Math.max(e.score,0),s=e.speed;s<0&&(s=100),t.push([e.timestamp,i,s])}),e.addRows(t);var n={height:300,series:{0:{targetAxisIndex:0},1:{targetAxisIndex:1}},hAxis:{title:"Date",format:"M/d/yy",minValue:t[0][0],maxValue:t[t.length-1][0]},vAxis:{0:{title:"Score",minValue:0,maxValue:100},1:{title:"Speed",minValue:0,maxValue:100},ticks:[0,20,40,60,80,100]}},i=document.getElementById("stats_chart");new B.a.api.visualization.LineChart(i).draw(e,n)},e.prototype.getServiceHistory=function(){var e=this.item.id;if(this.item.identifiers&&this.item.identifiers.length){var t=this.item.identifiers.filter(function(e){return 0===e.indexOf("ngp:")});if(!t||!t.length)return Promise.reject(new Error("Service has no statistics identifier to use to retrieve performance history"));e=t[0].split(":")[1]}var n=g.svcHistoryUrl;if(!n)return Promise.reject(new Error("URL to fetch service status history is not configured"));var i={method:"GET",responseType:"json",url:n=n.replace(/\{id\}/,e),params:{days:6,rollupByDay:!0,stub:28}},s=this.httpClient.createRequestOpts(i);return this.httpClient.execute(s)},Z([Object(a.Input)(),K("design:type",Object)],e.prototype,"item",void 0),e=Z([Object(a.Component)({selector:"gpid-service-stats",template:n("zDUo"),styles:[n("MP59")]}),K("design:paramtypes",[c.HttpClient])],e)}(),J=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},q=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},X=["purpose","function","primarySubjects","secondarySubjects","primaryTopics","secondaryTopics","places","categories","audience","community"],Q=function(){function e(){this.isCollapsed=!0,this.activeTab="purpose"}return e.prototype.ngOnInit=function(){},e.prototype.toggleDisplay=function(){this.isCollapsed=!this.isCollapsed},e.prototype.getKeys=function(){return X},e.prototype.changeTab=function(e){this.activeTab=e},e.prototype.getIcon=function(){return b.getIcon(v.ItemTypes.CONCEPT)},J([Object(a.Input)(),q("design:type",Object)],e.prototype,"classifiers",void 0),e=J([Object(a.Component)({selector:"gpid-kg",template:n("wrN0"),styles:[n("wJcD")]}),q("design:paramtypes",[])],e)}(),$=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ee=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},te=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.isAsset=function(){return this.item&&(this.item.type===v.ItemTypes.DATASET||this.item.type===v.ItemTypes.SERVICE||this.item.type===v.ItemTypes.LAYER||this.item.type===v.ItemTypes.MAP||this.item.type===v.ItemTypes.GALLERY||this.item.type===v.ItemTypes.COMMUNITY)},$([Object(a.Input)(),ee("design:type",Object)],e.prototype,"item",void 0),e=$([Object(a.Component)({selector:"gpid-about",template:n("fio3"),styles:[n("kbJG")]}),ee("design:paramtypes",[])],e)}(),ne=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ie=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},se=function(){function e(){this.fallback=g.assets+"/img-404.png"}return e.prototype.onImgError=function(){this.src=this.fallback},e.prototype.onImgLoad=function(){this.className="is-image-loaded"},ne([Object(a.Input)(),ie("design:type",String)],e.prototype,"src",void 0),ne([Object(a.Input)(),ie("design:type",String)],e.prototype,"fallback",void 0),ne([Object(a.HostBinding)("class"),ie("design:type",Object)],e.prototype,"className",void 0),e=ne([Object(a.Directive)({selector:"img[fallback]",host:{"(error)":"onImgError()","(load)":"onImgLoad()","[src]":"src"}})],e)}(),ae=function(){function e(e){this.sanitizer=e,this.fallback=g.assets+"/no-thumb.png"}return e.prototype.ngOnInit=function(){},e.prototype.getBackgroundImage=function(){if(!this.thumbnail)return"url("+this.fallback+")";var e=this.thumbnail.mediaType||"image/png",t=this.thumbnail.contentData;return this.sanitizer.bypassSecurityTrustStyle("url(data:"+e+";base64,"+t+")")},e.prototype.isEmpty=function(){return!this.thumbnail||!this.thumbnail.url&&!this.thumbnail.contentData},e.prototype.hasURL=function(){return this.thumbnail&&!!this.thumbnail.url},e.prototype.hasContentData=function(){return this.thumbnail&&!!this.thumbnail.contentData&&!this.thumbnail.url},ne([Object(a.Input)(),ie("design:type",Object)],e.prototype,"thumbnail",void 0),ne([Object(a.Input)(),ie("design:type",String)],e.prototype,"fallback",void 0),e=ne([Object(a.Component)({selector:"gpid-depiction",template:n("IQjw"),styles:[n("2pzX")]}),ie("design:paramtypes",[r.b])],e)}(),oe=n("P4mt"),re=oe.L.Control.extend({options:{position:"topleft",initialExtent:null},onAdd:function(e){var t=this,n=oe.L.DomUtil.create("div","leaflet-control-extent leaflet-bar"),i=oe.L.DomUtil.create("a","leaflet-control-reset-extent",n);i.innerHTML='<span class="fas fa-globe-americas"></span>',i.href="#",i.title="Reset map to resource's extent";return i.setAttribute("role","button"),i.setAttribute("aria-label",i.title),oe.L.DomEvent.disableClickPropagation(i),oe.L.DomEvent.on(i,"click",oe.L.DomEvent.stop),oe.L.DomEvent.on(i,"click",function(){var n=t.options.initialExtent;n&&e.fitBounds(n)},this),oe.L.DomEvent.on(i,"click",this._refocusOnMap,this),n},setExtent:function(e){this.options.initialExtent=e}}),ce=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},le=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pe=function(){function e(e){this.http=e,this.errors=[],this.warnings=[],this.httpClient=new _(this.http),this.layerService=new v.LayerService(v.Config.ualUrl,this.httpClient)}return e.prototype.ngOnInit=function(){var e=this;this.initMap(),this.mapId?this.loadMap(this.mapId):this.setDefaultBaseLayer().then(function(){e.layerId?e.loadLayer(e.layerId):e.extent&&e.setExtent(e.extent)})},e.prototype.ngOnChanges=function(e){this.map&&(e.mapId?this.loadMap(e.mapId.currentValue):e.layerId?this.loadLayer(e.layerId.currentValue):e.extent&&this.setExtent(e.extent.currentValue))},e.prototype.ngOnDestroy=function(){this.map&&(this.map.remove(),this.map=null)},e.prototype.initMap=function(){var e=this,t=oe.L.map("item-coverage-map",{zoomControl:!0,center:[38,-96],zoom:5,minZoom:2,maxZoom:21,maxBounds:[[-90,-180],[90,180]]});v.Config.leafletPane&&(t.createPane(v.Config.leafletPane),t.getPane(v.Config.leafletPane).style.zIndex="250"),this.extentControl=new re,this.extentControl.addTo(t),this.map=oe.MapFactory.get("GPMVMAP"),this.map.setMap(t),this.map.setErrorHandler(function(t){e.errors.push(t)});var n=new _(this.http);this.map.setHttpClient(n),this.map.setServiceFactory(this.getServiceFactory())},e.prototype.setDefaultBaseLayer=function(){var e=this;return oe.OSM.get(this.layerService).then(function(t){return e.mapId&&e.warnings.push(new Error("Using OpenStreetMap default base layer")),e.map.setBaseLayer(t),t})},e.prototype.loadMap=function(e){var t=this;return this.map.loadMap(e).then(function(e){return e&&e.baseLayer||t.setDefaultBaseLayer(),e.extent&&t.extentControl.setExtent([[e.extent.miny,e.extent.minx],[e.extent.maxy,e.extent.maxx]]),e}).catch(function(n){return console.log("Unable to load map '"+e+"' because "+n.message),console.log(n),t.setDefaultBaseLayer(),t.errors.push(n),Promise.resolve(null)})},e.prototype.loadLayer=function(e){var t=this;this.layerService.get(e).then(function(e){e.extent&&t.setExtent(e.extent),t.map.addLayers(e)}).catch(function(e){})},e.prototype.setExtent=function(e){if(e){var t=[[e.miny,e.minx],[e.maxy,e.maxx]];this.extentControl.setExtent(t),this.map.setExtent(e)}},e.prototype.getServiceFactory=function(){return function(e,t,n){var i="string"==typeof e?e:e&&e.type?e.type:null;if(!i)throw new Error("Must provide a type or object with a type specified");if(!t)throw new Error("Must provide a base url");if(!n)throw new Error("Must provide an http client to use to make requests");switch(i){case v.ItemTypes.MAP:return new v.MapService(v.Config.ualUrl,this.httpClient);default:return Object(v.ServiceFactory)(e,t,this.httpClient)}}},ce([Object(a.Input)(),le("design:type",Object)],e.prototype,"extent",void 0),ce([Object(a.Input)(),le("design:type",String)],e.prototype,"mapId",void 0),ce([Object(a.Input)(),le("design:type",String)],e.prototype,"layerId",void 0),e=ce([Object(a.Component)({selector:"gpid-coverage-map",template:n("CwCq"),styles:[n("3arv")]}),le("design:paramtypes",[c.HttpClient])],e)}(),de=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},fe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ue=function(){function e(){this.isCollapsed=!1}return e.prototype.ngOnInit=function(){},e.prototype.toggleDisplay=function(){this.isCollapsed=!this.isCollapsed},de([Object(a.Input)(),fe("design:type",Array)],e.prototype,"keywords",void 0),e=de([Object(a.Component)({selector:"gpid-keywords",template:n("ZBOP"),styles:[n("AEeZ")]}),fe("design:paramtypes",[])],e)}(),me=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ge=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ye=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},me([Object(a.Input)(),ge("design:type",Array)],e.prototype,"titles",void 0),e=me([Object(a.Component)({selector:"gpid-alt-titles",template:n("ddsH"),styles:[n("1PXn")]}),ge("design:paramtypes",[])],e)}(),ve=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},he=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},be=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},ve([Object(a.Input)(),he("design:type",Array)],e.prototype,"ids",void 0),e=ve([Object(a.Component)({selector:"gpid-alt-ids",template:n("1DLH"),styles:[n("YOvZ")]}),he("design:paramtypes",[])],e)}(),Ie=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Ce=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_e=function(){function e(){this.isCollapsed=!1}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},Ie([Object(a.Input)(),Ce("design:type",Array)],e.prototype,"rights",void 0),e=Ie([Object(a.Component)({selector:"gpid-use-constraints",template:n("dCMk"),styles:[n("W74Q")]}),Ce("design:paramtypes",[])],e)}(),Oe=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Re=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xe=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},Oe([Object(a.Input)(),Re("design:type",Array)],e.prototype,"communities",void 0),e=Oe([Object(a.Component)({selector:"gpid-used-by",template:n("Mh+b"),styles:[n("fDxB")]}),Re("design:paramtypes",[])],e)}(),we=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},je=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Te=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},we([Object(a.Input)(),je("design:type",Array)],e.prototype,"related",void 0),e=we([Object(a.Component)({selector:"gpid-related",template:n("y0j6"),styles:[n("+5jC")]}),je("design:paramtypes",[])],e)}(),ke=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Pe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ae=function(){function e(e){this.isCollapsed=!1,this.layerTotal=0;var t=new _(e);this.itemService=new v.ItemService(v.Config.ualUrl,t)}return e.prototype.ngOnInit=function(){var e=this;this.serviceId&&this.itemService.search({types:v.ItemTypes.LAYER,service:this.serviceId,size:300,fields:"parentLayer_id"}).then(function(t){e.layerTotal=t.totalResults,e.buildTree(t.results)}).catch(function(e){})},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},e.prototype.buildTree=function(e){var t={},n=[];e.forEach(function(e){e.parentLayer_id?(t[e.parentLayer_id]=t[e.parentLayer_id]||[],t[e.parentLayer_id].push(e)):n.push(e)});for(var i=Object.keys(t);i.length;){i.forEach(function(e){var i=n.filter(function(t){return t.id===e});i&&i.length>0&&(i[0].subLayers=t[e],delete t[e])}),i.length===(i=Object.keys(t)).length&&(i=[],console.log("WARN : layer tree building aborted early"))}this.layers=n},ke([Object(a.Input)(),Pe("design:type",String)],e.prototype,"serviceId",void 0),e=ke([Object(a.Component)({selector:"gpid-service-layers",template:n("pmRi"),styles:[n("YYDX")]}),Pe("design:paramtypes",[c.HttpClient])],e)}(),Ee=function(){function e(){}return e.prototype.ngOnInit=function(){},ke([Object(a.Input)(),Pe("design:type",Object)],e.prototype,"layer",void 0),e=ke([Object(a.Component)({selector:"gpid-service-layer",template:'\n  <div>\n      <gpid-resource-link [item]="layer"></gpid-resource-link>\n      <div class="m-list--tree" *ngIf="layer.subLayers">\n          <gpid-service-layer *ngFor="let child of layer.subLayers"\n            [layer]="child">\n          </gpid-service-layer>\n      </div>\n  </div>\n  ',styles:[n("K0BU")]}),Pe("design:paramtypes",[])],e)}(),Se=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},De=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Le=function(){function e(){this.isCollapsed=!1}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},Se([Object(a.Input)(),De("design:type",Array)],e.prototype,"items",void 0),e=Se([Object(a.Component)({selector:"gpid-gallery-items",template:n("q8+t"),styles:[n("GZ7F")]}),De("design:paramtypes",[])],e)}(),Me=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Ne=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ue=function(){function e(){this.isCollapsed=!1}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},Me([Object(a.Input)(),Ne("design:type",Object)],e.prototype,"map",void 0),e=Me([Object(a.Component)({selector:"gpid-map-layers",template:n("r87P"),styles:[n("Nh9t")]}),Ne("design:paramtypes",[])],e)}(),ze=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Be=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fe=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},ze([Object(a.Input)(),Be("design:type",Array)],e.prototype,"members",void 0),e=ze([Object(a.Component)({selector:"gpid-community-members",template:n("5G14"),styles:[n("XboJ")]}),Be("design:paramtypes",[])],e)}(),Ge=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Ye=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},Ge([Object(a.Input)(),Ye("design:type",Object)],e.prototype,"item",void 0),e=Ge([Object(a.Component)({selector:"gpid-dataset-distributions",template:n("UGG3"),styles:[n("NQWy")]}),Ye("design:paramtypes",[])],e)}(),Ve=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Ze=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ke=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.doAction=function(){if(this.item&&this.item.type)switch(this.item.type){case v.ItemTypes.DATASET:this.openDataset();break;case v.ItemTypes.SERVICE:case v.ItemTypes.LAYER:break;case v.ItemTypes.MAP:this.openMap();break;case v.ItemTypes.GALLERY:case v.ItemTypes.COMMUNITY:case v.ItemTypes.ORGANIZATION:case v.ItemTypes.CONTACT:case v.ItemTypes.PERSON:case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:}},e.prototype.getLabel=function(){if(!this.item||!this.item.type)return"";switch(this.item.type){case v.ItemTypes.DATASET:return this.item.source&&this.item.source.uri?"View Metadata":"Do Something";case v.ItemTypes.SERVICE:case v.ItemTypes.LAYER:return"Do Something";case v.ItemTypes.MAP:return"Open Map";case v.ItemTypes.GALLERY:case v.ItemTypes.COMMUNITY:case v.ItemTypes.ORGANIZATION:case v.ItemTypes.CONTACT:case v.ItemTypes.PERSON:case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:default:return"Do Something"}},e.prototype.getDescription=function(){if(!this.item||!this.item.type)return"";switch(this.item.type){case v.ItemTypes.DATASET:case v.ItemTypes.SERVICE:case v.ItemTypes.LAYER:return"This will be helpful text indicating what will happen if you click the associated button";case v.ItemTypes.MAP:return"Open Map";case v.ItemTypes.GALLERY:case v.ItemTypes.COMMUNITY:case v.ItemTypes.ORGANIZATION:case v.ItemTypes.CONTACT:case v.ItemTypes.PERSON:case v.ItemTypes.CONCEPT:case v.ItemTypes.CONCEPT_SCHEME:default:return"This will be helpful text indicating what will happen if you click the associated button"}},e.prototype.openDataset=function(){this.item.source&&this.item.source.uri&&window.open(this.item.source.uri,"_blank")},e.prototype.openMap=function(){var e=this.item.resourceTypes;if(Array.isArray(e))if(~e.indexOf("http://www.geoplatform.gov/ont/openmap/GeoplatformMap")){var t="",n=".gov",i=g.env;"dev"===i||"sit"===i?(t="sit-",n=".us"):"stg"===i&&(t="stg-");var s="https://"+t+"viewer.geoplatform"+n+"/?id="+this.item.id;window.open(s,"_blank")}else this.item.landingPage?window.open(this.item.landingPage,"_blank"):console.log("Warning: External map has no home page specified");else console.log("Warning: Map has no resource types specified")},Ve([Object(a.Input)(),Ze("design:type",Object)],e.prototype,"item",void 0),e=Ve([Object(a.Component)({selector:"gpid-primary-action",template:n("Y0FW"),styles:[n("LdvX")]}),Ze("design:paramtypes",[])],e)}(),We=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Je=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qe=((s={})[v.ItemTypes.DATASET]=[{label:"ISO19139",value:"iso19139"},{label:"ISO19115",value:"iso19115"},{label:"GeoPlatform ISO19139 Profile",value:"gpfm"}],s[v.ItemTypes.SERVICE]=[{label:"ISO19139",value:"iso19139"},{label:"ISO19115",value:"iso19115"},{label:"GeoPlatform ISO19139 Profile",value:"gpfm"}],s[v.ItemTypes.LAYER]=[{label:"ISO19139",value:"iso19139"}],s[v.ItemTypes.MAP]=[{label:"ISO19139",value:"iso19139"},{label:"KML",value:"kml"},{label:"Web Map Context",value:"wmc"}],s[v.ItemTypes.GALLERY]=[{label:"ISO19139",value:"iso19139"}],s[v.ItemTypes.COMMUNITY]=[{label:"ISO19139",value:"iso19139"}],s);var Xe=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.getFormats=function(){return this.item&&this.item.type&&qe[this.item.type]?qe[this.item.type]:[]},e.prototype.doAction=function(e){this.item&&this.service&&window.open(v.Config.ualUrl+"/api/items/"+this.item.id+"/export?format="+e,"_blank")},We([Object(a.Input)(),Je("design:type",Object)],e.prototype,"item",void 0),We([Object(a.Input)(),Je("design:type","function"==typeof(t="undefined"!=typeof v.ItemService&&v.ItemService)&&t||Object)],e.prototype,"service",void 0),e=We([Object(a.Component)({selector:"gpid-export-action",template:n("cIZh"),styles:[n("yBAT")]}),Je("design:paramtypes",[])],e);var t}(),Qe=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},$e=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},et=function(){function e(e){this.authService=e}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.isAuthorized=function(){if(!this.item||!this.item.id)return!1;var e=this.authService.getUser();return!!e&&(!(!this.item.createdBy||e.username!==this.item.createdBy)||!(!e.groups||!e.groups.filter(function(e){return"gp_editor"===e.name}).length))},e.prototype.getEditUrl=function(){if(!this.item||!this.item.id)return"";var e=g.editUrl;return e||console.log("EditAction - URL to edit items is not configured"),e.replace(/\{id\}/,this.item.id)},Qe([Object(a.Input)(),$e("design:type",Object)],e.prototype,"item",void 0),e=Qe([Object(a.Component)({selector:"gpid-edit-action",template:n("6xmj"),styles:[n("+OeI")]}),$e("design:paramtypes",[M])],e)}(),tt=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},nt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},it=function(){function e(e){var t=new _(e);this.itemService=new v.ItemService(v.Config.ualUrl,t)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.isAuthorized=function(){return this.item,!1},e.prototype.doAction=function(){this.item&&this.itemService.delete(this.item).then(function(e){}).catch(function(e){})},tt([Object(a.Input)(),nt("design:type",Object)],e.prototype,"item",void 0),e=tt([Object(a.Component)({selector:"gpid-delete-action",template:n("d4AK"),styles:[n("H1tq")]}),nt("design:paramtypes",[c.HttpClient])],e)}(),st=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},at=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ot=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.doAction=function(){this.item&&this.item.id&&this.service&&this.service.like(this.item.id).then(function(){}).catch(function(e){})},st([Object(a.Input)(),at("design:type",Object)],e.prototype,"item",void 0),st([Object(a.Input)(),at("design:type","function"==typeof(t="undefined"!=typeof v.ItemService&&v.ItemService)&&t||Object)],e.prototype,"service",void 0),e=st([Object(a.Component)({selector:"gpid-like-action",template:n("MAq4"),styles:[n("d2KM")]}),at("design:paramtypes",[])],e);var t}(),rt=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ct=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lt=function(){function e(){}return e.prototype.ngOnInit=function(){},rt([Object(a.Input)(),ct("design:type",Object)],e.prototype,"item",void 0),e=rt([Object(a.Component)({selector:"gpid-service-details",template:n("Q/5j"),styles:[n("8soU")]}),ct("design:paramtypes",[])],e)}(),pt=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},dt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ft=function(){function e(){}return e.prototype.ngOnInit=function(){},pt([Object(a.Input)(),dt("design:type",Object)],e.prototype,"item",void 0),e=pt([Object(a.Component)({selector:"gpid-layer-details",template:n("Zpsx"),styles:[n("TNxx")]}),dt("design:paramtypes",[])],e)}(),ut=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},mt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gt=function(){function e(){}return e.prototype.ngOnInit=function(){},ut([Object(a.Input)(),mt("design:type",Object)],e.prototype,"item",void 0),e=ut([Object(a.Component)({selector:"gpid-dataset-details",template:n("0XKB"),styles:[n("Ee30")]}),mt("design:paramtypes",[])],e)}(),yt=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},vt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ht=function(){function e(){}return e.prototype.ngOnInit=function(){},yt([Object(a.Input)(),vt("design:type",Object)],e.prototype,"item",void 0),e=yt([Object(a.Component)({selector:"gpid-contact-details",template:n("NO6R"),styles:[n("0fZw")]}),vt("design:paramtypes",[])],e)}(),bt=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},It=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ct=function(){function e(){this.isCollapsed=!0}return e.prototype.ngOnInit=function(){},e.prototype.toggleCollapsed=function(){this.isCollapsed=!this.isCollapsed},bt([Object(a.Input)(),It("design:type",Object)],e.prototype,"item",void 0),e=bt([Object(a.Component)({selector:"gpid-services",template:n("zzRJ"),styles:[n("K3jb")]}),It("design:paramtypes",[])],e)}(),_t=this&&this.__decorate||function(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};y.Icon.Default.imagePath=g.assets,y.Icon.Default.mergeOptions({iconRetinaUrl:"marker-icon-2x.png",iconUrl:"marker-icon.png",shadowUrl:"marker-shadow.png"});var Ot={APP_BASE_URL:g.wpUrl||""};window.GeoPlatformPluginEnv&&window.GeoPlatformPluginEnv.wpUrl&&(Ot.APP_BASE_URL=window.GeoPlatformPluginEnv.wpUrl);var Rt=Object(h.b)(Ot);function xt(){return function(){v.Config.configure(g),window.GeoPlatformPluginEnv&&v.Config.configure(window.GeoPlatformPluginEnv)}}var wt=function(){function e(){}return e=_t([Object(a.NgModule)({declarations:[w,z,V,W,Q,te,ae,se,f,u,m,ue,Ae,Ee,Le,Ue,pe,Fe,Ke,Xe,k,et,it,He,ot,xe,Te,lt,ft,gt,ht,Ct,ye,be,_e,E],imports:[r.a,c.HttpClientModule,c.HttpClientJsonpModule,l.a.forRoot(),p.InlineSVGModule],providers:[{provide:a.APP_INITIALIZER,useFactory:xt,multi:!0},M,{provide:h.a,useValue:Rt}],entryComponents:[],bootstrap:[w]})],e)}();g.production&&Object(a.enableProdMode)(),Object(o.a)().bootstrapModule(wt).catch(function(e){return console.log(e)})},y0j6:function(e,t){e.exports='<div>\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Other Resources ({{related?.length||0}})</strong>\n</div>\n\n<div [ngClass]="{\'is-hidden\':!isCollapsed}">\n    Expand to see additional related resources\n</div>\n\n<div [ngClass]="{\'is-hidden\':isCollapsed}">\n\n    <div *ngIf="!related || !related.length">\n        <em>None specified</em>\n    </div>\n\n    <div class="m-list">\n        <div *ngFor="let rel of related" class="m-list__item">\n            <span *ngIf="!rel.href">\n                {{rel.label||"Un-titled resource"}} <em>(no url specified)</em>\n            </span>\n            <a *ngIf="rel.href" href="{{rel.href}}" target="_blank">\n                {{rel.label||"Un-titled resource"}}\n            </a>\n            <p class="t-fg--gray-md" *ngIf="rel.description">{{rel.description}}</p>\n        </div>\n    </div>\n\n</div>\n'},yBAT:function(e,t){e.exports=""},zDUo:function(e,t){e.exports='<div class="m-article">\n    <div class="m-article__heading">\n        <span class="fas"\n            [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n            (click)="toggleCollapsed()">\n        </span>\n        Service Statistics\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':!isCollapsed}">\n        Expand to see usage statistics of this item\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}">\n        <div class="d-flex flex-justify-between flex-align-start">\n            <ul class="m-list--unbulleted col">\n                <li><strong>Reliability Score:</strong> {{item?.statistics?.reliability}} / 100</li>\n                <li><strong>Score:</strong> {{item?.statistics?.score}}</li>\n                <li><strong>Speed:</strong> {{item?.statistics?.speed}} seconds</li>\n                <li><strong>Avg Speed:</strong>\n                    {{item?.statistics?.average_speed}} seconds\n                    (last 7 days: {{item?.statistics?.average_speed_7}} seconds)\n                </li>\n                <li><strong>Weekly Trend:</strong> {{item?.statistics?.trend_7}}</li>\n            </ul>\n            <ul class="m-list--unbulleted col">\n                <li><strong>Service Online:</strong>\n                    <span class="fas fa-check t-fg--success" *ngIf="item?.statistics?.online"></span>\n                    <span class="fas fa-exclamation-sign t-fg--danger" *ngIf="!item?.statistics?.online"></span>\n                </li>\n                <li><strong>Service Compliance:</strong>\n                    <span class="fas fa-check t-fg--success" *ngIf="item?.statistics?.compliant"></span>\n                    <span class="fas fa-exclamation-sign t-fg--danger" *ngIf="!item?.statistics?.compliant"></span>\n                </li>\n                <li><strong>Days in Service:</strong> {{item?.statistics?.days_in_service}}</li>\n                <li><strong>Days Online:</strong> {{item?.statistics?.days_online}}</li>\n                <li><strong>Up-time:</strong>\n                    {{item?.statistics?.percent_uptime}}%\n                    (last 7 days: {{item?.statistics?.percent_uptime_7}}%)\n                </li>\n            </ul>\n        </div>\n\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}">\n\n        <div id="stats_chart" *ngIf="!error"\n            style="width:100%; height: 300px;">\n            <div *ngIf="isFetchingData" class="m-message m-message--light">\n                <span class="fas fa-spin fa-spinner"></span>\n                Loading service statistics...\n            </div>\n        </div>\n        <div class="m-message__container">\n            <div class="m-message--error" *ngIf="error">\n                <div class="m-message__heading">\n                    <span class="fas fa-exclamation-circle"></span>\n                    {{error.label}}\n                </div>\n                {{error.message}}\n            </div>\n        </div>\n        <small class="t-fg--gray-md">\n            Higher scores (out of 100) are better while lower speeds (measured in seconds) are better\n        </small>\n    </div>\n\n    <div class="m-article__desc" [ngClass]="{\'is-hidden\':isCollapsed}">\n        Last checked on {{item?.statistics?.timestamp|date:\'shortDate\'}}\n    </div>\n\n\n</div>\n'},zzRJ:function(e,t){e.exports='\n\x3c!-- Layers --\x3e\n<div *ngIf="\'Layer\'===item?.type">\n    <strong>Service</strong>\n    <div *ngIf="!item?.services && !item?.services?.length" class="t-fg--danger">\n        <span class="fas fa-exclamation-circle"></span>\n        Layer does not specify a service\n    </div>\n    <div *ngIf="item?.services?.length>0">\n        <gpid-resource-link [item]="item.services[0]"></gpid-resource-link>\n    </div>\n</div>\n\n\x3c!-- Datasets --\x3e\n<div *ngIf="\'dcat:Dataset\'===item?.type">\n    <span class="fas"\n        [ngClass]="{\'fa-caret-down\':isCollapsed,\'fa-caret-up\':!isCollapsed}"\n        (click)="toggleCollapsed()">\n    </span>\n    <strong>Services ({{item?.services?.length||0}})</strong>\n\n    <div [ngClass]="{\'is-hidden\':!isCollapsed}">\n        Expand to see services refenced by this dataset\n    </div>\n\n    <div [ngClass]="{\'is-hidden\':isCollapsed}" class="m-list">\n        <div *ngIf="!item?.services && !item?.services?.length" class="m-list__item t-fg--warning">\n            <span class="fas fa-exclamation-triangle"></span>\n            No services associated with this resource\n        </div>\n        <div *ngFor="let svc of item?.services; let $idx=index;" class="m-list__item">\n            <gpid-resource-link [item]="item.services[$idx]"></gpid-resource-link>\n        </div>\n    </div>\n</div>\n'}},[0]);