<div class="m-article">
    <div class="m-article__heading">
        <span class="fas"
            [ngClass]="{'fa-caret-down':isCollapsed,'fa-caret-up':!isCollapsed}"
            (click)="toggleDisplay(null)">
        </span>
        Knowledge Graph
    </div>
    <div class="m-article__desc" *ngIf="isCollapsed" class="t-fg--gray-md">
        Expand to see knowledge enrichment of this item
    </div>

    <div [ngClass]="{'is-hidden':isCollapsed}">

        <div *ngFor="let key of getKeys()" class="m-article__desc">
            <span class="fas"
                *ngIf="classifiers && classifiers[key] && classifiers[key].length"
                [ngClass]="{'fa-caret-down':isClassifierCollapsed[key],'fa-caret-up':!isClassifierCollapsed[key]}"
                (click)="toggleDisplay(key)">
            </span>
            <strong>
                {{classifierLabels[key]}}
                <sup *ngIf="classifiers && classifiers[key] && classifiers[key].length">
                    ({{classifiers[key].length}})
                </sup>
            </strong>

            <div *ngIf="classifiers && classifiers[key] && classifiers[key].length"
                [ngClass]="{'is-hidden':!isClassifierCollapsed[key]}" class="t-fg--gray-md">
                Expand to see values for this classifier
            </div>
            <div [ngClass]="{'is-hidden':isClassifierCollapsed[key]}">
                <div *ngIf="classifiers && classifiers[key]">
                    <div *ngFor="let val of classifiers[key]">
                        <gpid-resource-link [item]="val"></gpid-resource-link>
                    </div>
                </div>
            </div>

        </div>
        
    </div>
</div>
